# Indoor ORCA-based Simulator
-----------------------------

## [UNDER CONSTRUCTION] 

![image](output.gif "INDOORCA")

This repository contains a fork of the Python bindings for Optimal Reciprocal Collision Avoidance but 
adds functions for generating an environment from a traversability map and necessary functions for 
simulating the agents in said map.
There are three core features:
1. A library for processing a binary image of a map and extracting the contours of the obstacles in an ORCA-friendly format
2. A multi-agent simulator that uses ORCA, waypoint following, and global planning to simulate multiple agents in an environment and stores episode data for later usage
3. A library for generating videos and images of moving agents in a specified map given their trajectories
For a narrative overview of the features, please take look at the tutorials folder.

## Building & installing
------------------------

Building requires [CMake](http://cmake.org/) and [Cython](http://cython.org/) to be installed.
Run `pip install -r requirements.txt` to install the tested version of Cython and other necessary libraries.
Run `python setup.py build` to build, and `python setup.py install` to install.
Alternatively, if you want an in-place build that puts the compiled library right in
the current directory, run `python setup.py build_ext --inplace`

Only tested with Python 3.6 on Ubuntu Linux. The setup.py script uses CMake to build
the RVO2 library itself, before building the Python wrappers. 

Please look at additional notes on the RVO2 framework in the [original README](RVO2.md)

# Acknowledgments
-----------------

## Optimal Reciprocal Collision Avoidance

<http://gamma.cs.unc.edu/RVO2/>

[![Build Status](https://travis-ci.org/snape/RVO2.svg?branch=master)](https://travis-ci.org/snape/RVO2)
[![Build status](https://ci.appveyor.com/api/projects/status/0nyp7y4di8x1gh9o/branch/master?svg=true)](https://ci.appveyor.com/project/snape/rvo2)

Please send all bug reports for the Python wrapper to
[Python-RVO2](https://github.com/sybrenstuvel/Python-RVO2), and bug
report for the RVO2 library itself to [geom@cs.unc.edu](mailto:geom@cs.unc.edu).

The RVO2 authors may be contacted via:

Jur van den Berg, Stephen J. Guy, Jamie Snape, Ming C. Lin, and Dinesh Manocha  
Dept. of Computer Science  
201 S. Columbia St.  
Frederick P. Brooks, Jr. Computer Science Bldg.  
Chapel Hill, N.C. 27599-3175  
United States of America

## iGibson
<https://github.com/StanfordVL/iGibson>
The environments we used for testing and are portrayed here are from iGibson.
We also based some of our navigation and global planning code on their implementation.

## CrowdNav
<https://github.com/vita-epfl/CrowdNav>
The visualizations are in part generated by code from CrowdNav. We plan to support 
gym and reinforcement learning as is done in CrowdNav in the future.

## Other Libraries
This project would not be possible without multiple libraries that can be found in requirements.txt
